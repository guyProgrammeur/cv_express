<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>CV Professionnel - {{ identite.prenom }} {{ identite.nom }}</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Source+Sans+Pro:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      @page {
        size: A4;
        margin: 15mm;
        @bottom-center {
          content: "Page " counter(page) " sur " counter(pages);
          font-family: "Montserrat", sans-serif;
          font-size: 9pt;
          color: #95a5a6;
        }
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }

      :root {
        --primary: #2c3e50; /* Bleu nuit professionnel */
        --secondary: #34495e; /* Bleu gris */
        --accent: #3498db; /* Bleu vif */
        --accent-light: #5dade2; /* Bleu clair */
        --success: #27ae60; /* Vert */
        --warning: #f39c12; /* Orange */
        --light: #ecf0f1; /* Gris tr√®s clair */
        --lighter: #f8f9fa; /* Fond */
        --muted: #7f8c8d; /* Texte secondaire */
        --border: #bdc3c7; /* Bordures */
        --shadow: rgba(44, 62, 80, 0.1);
      }

      body {
        font-family: "Source Sans Pro", sans-serif;
        color: var(--primary);
        line-height: 1.6;
        font-size: 10.5pt;
        background: white;
        max-width: 210mm;
        margin: 0 auto;
      }

      /* ===================== HEADER MODERNIS√â ===================== */
      header {
        text-align: center;
        margin-bottom: 35px;
        padding-bottom: 25px;
        border-bottom: 3px solid var(--accent);
        position: relative;
        background: linear-gradient(to right, var(--lighter) 0%, white 100%);
        padding: 30px 20px 25px;
        border-radius: 8px;
        box-shadow: 0 4px 12px var(--shadow);
      }

      header::after {
        content: "";
        position: absolute;
        bottom: -3px;
        left: 25%;
        width: 50%;
        height: 3px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .photo-container {
        width: 130px;
        height: 130px;
        margin: 0 auto 20px;
        border-radius: 50%;
        overflow: hidden;
        border: 4px solid white;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        position: relative;
        background: var(--light);
      }

      .photo-container::before {
        content: "";
        position: absolute;
        top: -4px;
        left: -4px;
        right: -4px;
        bottom: -4px;
        border-radius: 50%;
        background: linear-gradient(45deg, var(--accent), var(--accent-light));
        z-index: -1;
      }

      .photo-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .name {
        font-family: "Montserrat", sans-serif;
        font-size: 28pt;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 5px;
        letter-spacing: -0.5px;
      }

      .name span {
        color: var(--accent);
      }

      .job-title {
        font-family: "Montserrat", sans-serif;
        font-size: 16pt;
        color: var(--secondary);
        font-weight: 500;
        margin-bottom: 15px;
        position: relative;
        display: inline-block;
        padding: 0 15px;
      }

      .job-title::before,
      .job-title::after {
        content: "‚ú¶";
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        color: var(--accent);
        font-size: 12pt;
      }

      .job-title::before {
        left: 0;
      }
      .job-title::after {
        right: 0;
      }

      /* ===================== BANDE DE CONTACT AM√âLIOR√âE ===================== */
      .contact-bar {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 25px;
        margin-top: 20px;
        font-size: 10pt;
      }

      .contact-item {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--muted);
        transition: color 0.3s;
      }

      .contact-item:hover {
        color: var(--accent);
      }

      .contact-icon {
        font-size: 11pt;
        color: var(--accent);
      }

      .contact-value {
        font-weight: 500;
      }

      /* ===================== LAYOUT PRINCIPAL ===================== */
      .main-container {
        display: grid;
        grid-template-columns: 200px 1fr;
        gap: 30px;
        margin-bottom: 40px;
      }

      .sidebar {
        padding-right: 20px;
        border-right: 1px solid var(--light);
      }

      .content {
        padding-left: 5px;
      }

      /* ===================== SECTIONS ===================== */
      .section {
        margin-bottom: 30px;
        page-break-inside: avoid;
        break-inside: avoid;
      }

      .section-label {
        font-family: "Montserrat", sans-serif;
        font-weight: 700;
        font-size: 12pt;
        text-transform: uppercase;
        color: var(--accent);
        margin-bottom: 15px;
        padding-bottom: 8px;
        border-bottom: 2px solid var(--accent);
        position: relative;
        letter-spacing: 1px;
      }

      .section-label::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 40px;
        height: 2px;
        background: var(--warning);
      }

      /* ===================== PROFIL ===================== */
      .profile-text {
        font-size: 11pt;
        line-height: 1.7;
        color: var(--secondary);
        text-align: justify;
        padding: 15px;
        background: var(--lighter);
        border-radius: 6px;
        border-left: 4px solid var(--accent);
      }

      /* ===================== EXP√âRIENCES ===================== */
      .experience-timeline {
        position: relative;
        padding-left: 20px;
      }

      .experience-timeline::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 2px;
        background: var(--light);
      }

      .experience-item {
        position: relative;
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 1px dashed var(--light);
      }

      .experience-item:last-child {
        border-bottom: none;
      }

      .experience-item::before {
        content: "";
        position: absolute;
        left: -24px;
        top: 5px;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: var(--accent);
        border: 3px solid white;
        box-shadow: 0 0 0 2px var(--accent);
      }

      .exp-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 8px;
      }

      .exp-title {
        font-family: "Montserrat", sans-serif;
        font-size: 13pt;
        font-weight: 600;
        color: var(--primary);
      }

      .exp-period {
        font-weight: 600;
        font-size: 10pt;
        color: var(--accent);
        background: var(--lighter);
        padding: 3px 10px;
        border-radius: 15px;
        white-space: nowrap;
      }

      .exp-company {
        font-weight: 600;
        color: var(--secondary);
        margin-bottom: 5px;
        font-size: 11pt;
      }

      .exp-location {
        color: var(--muted);
        font-size: 10pt;
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .exp-missions {
        list-style: none;
        padding-left: 0;
      }

      .mission-item {
        position: relative;
        padding-left: 20px;
        margin-bottom: 6px;
        color: var(--secondary);
      }

      .mission-item::before {
        content: "‚ñ∏";
        position: absolute;
        left: 0;
        color: var(--accent);
        font-weight: bold;
      }

      /* ===================== √âTUDES ===================== */
      .education-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
      }

      .education-card {
        background: var(--lighter);
        padding: 15px;
        border-radius: 8px;
        border: 1px solid var(--light);
        transition: transform 0.3s, box-shadow 0.3s;
      }

      .education-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px var(--shadow);
      }

      .edu-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 10px;
      }

      .edu-diploma {
        font-family: "Montserrat", sans-serif;
        font-weight: 600;
        color: var(--primary);
        font-size: 11pt;
      }

      .edu-year {
        font-weight: 600;
        color: var(--accent);
        font-size: 10pt;
      }

      .edu-institution {
        color: var(--secondary);
        font-weight: 500;
        margin-bottom: 5px;
      }

      .edu-details {
        font-size: 10pt;
        color: var(--muted);
        display: flex;
        justify-content: space-between;
      }

      .edu-mention {
        color: var(--success);
        font-weight: 600;
      }

      /* ===================== COMP√âTENCES ===================== */
      .skills-categories {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
      }

      .skill-category {
        margin-bottom: 20px;
      }

      .skill-category-title {
        font-family: "Montserrat", sans-serif;
        font-weight: 600;
        color: var(--secondary);
        margin-bottom: 12px;
        font-size: 11pt;
        padding-bottom: 5px;
        border-bottom: 1px solid var(--light);
      }

      .skill-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .skill-tag {
        background: white;
        padding: 6px 14px;
        border-radius: 20px;
        font-size: 10pt;
        font-weight: 500;
        color: var(--secondary);
        border: 1px solid var(--light);
        box-shadow: 0 2px 4px var(--shadow);
        transition: all 0.3s;
        position: relative;
        overflow: hidden;
      }

      .skill-tag::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to right, var(--accent-light), transparent);
        opacity: 0;
        transition: opacity 0.3s;
      }

      .skill-tag:hover {
        color: var(--accent);
        border-color: var(--accent);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px var(--shadow);
      }

      .skill-tag:hover::before {
        opacity: 0.1;
      }

      .skill-tag.level-beginner {
        border-left: 3px solid #e74c3c;
      }
      .skill-tag.level-intermediate {
        border-left: 3px solid #f39c12;
      }
      .skill-tag.level-advanced {
        border-left: 3px solid #27ae60;
      }
      .skill-tag.level-expert {
        border-left: 3px solid #3498db;
      }

      /* ===================== LANGUES ===================== */
      .language-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
      }

      .language-item {
        flex: 1;
        min-width: 120px;
        background: var(--lighter);
        padding: 15px;
        border-radius: 8px;
        text-align: center;
        border: 1px solid var(--light);
      }

      .language-name {
        font-weight: 600;
        color: var(--primary);
        margin-bottom: 8px;
        font-size: 11pt;
      }

      .language-level {
        color: var(--muted);
        font-size: 10pt;
        margin-bottom: 10px;
      }

      .language-progress {
        height: 6px;
        background: var(--light);
        border-radius: 3px;
        overflow: hidden;
        margin-bottom: 5px;
      }

      .language-progress-bar {
        height: 100%;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
        border-radius: 3px;
      }

      .language-percentage {
        font-size: 9pt;
        color: var(--muted);
        text-align: right;
      }

      /* ===================== FORMATIONS & CERTIFICATIONS ===================== */
      .certifications-list {
        list-style: none;
        padding-left: 0;
      }

      .certification-item {
        position: relative;
        padding-left: 25px;
        margin-bottom: 15px;
        padding-bottom: 15px;
        border-bottom: 1px dashed var(--light);
      }

      .certification-item:last-child {
        border-bottom: none;
      }

      .certification-item::before {
        content: "üìú";
        position: absolute;
        left: 0;
        top: 0;
        font-size: 14pt;
      }

      .certification-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 5px;
      }

      .certification-title {
        font-weight: 600;
        color: var(--primary);
      }

      .certification-date {
        color: var(--accent);
        font-weight: 500;
        font-size: 10pt;
      }

      .certification-org {
        color: var(--muted);
        font-size: 10pt;
      }

      /* ===================== R√âF√âRENCES ===================== */
      .references-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
      }

      .reference-card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        border: 1px solid var(--light);
        box-shadow: 0 3px 10px var(--shadow);
        transition: transform 0.3s;
      }

      .reference-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px var(--shadow);
      }

      .ref-name {
        font-family: "Montserrat", sans-serif;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 8px;
        font-size: 12pt;
      }

      .ref-function {
        color: var(--accent);
        font-weight: 600;
        margin-bottom: 10px;
        font-size: 10.5pt;
        padding-bottom: 8px;
        border-bottom: 1px solid var(--light);
      }

      .ref-contact {
        font-size: 10pt;
        color: var(--muted);
      }

      .ref-phone {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 5px;
      }

      .ref-email {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      /* ===================== CENTRES D'INT√âR√äT ===================== */
      .interests-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
      }

      .interest-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 15px;
        background: var(--lighter);
        border-radius: 10px;
        min-width: 100px;
        transition: all 0.3s;
        border: 1px solid transparent;
      }

      .interest-item:hover {
        background: white;
        border-color: var(--accent);
        transform: scale(1.05);
      }

      .interest-icon {
        font-size: 20pt;
        margin-bottom: 10px;
        color: var(--accent);
      }

      .interest-name {
        font-weight: 600;
        color: var(--secondary);
        text-align: center;
      }

      /* ===================== PUBLICATIONS ===================== */
      .publications-list {
        list-style: none;
        padding-left: 0;
      }

      .publication-item {
        position: relative;
        padding-left: 25px;
        margin-bottom: 15px;
        padding-bottom: 15px;
        border-bottom: 1px dashed var(--light);
      }

      .publication-item:last-child {
        border-bottom: none;
      }

      .publication-item::before {
        content: "üìñ";
        position: absolute;
        left: 0;
        top: 0;
        font-size: 14pt;
      }

      .publication-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 5px;
      }

      .publication-title {
        font-weight: 600;
        color: var(--primary);
      }

      .publication-year {
        color: var(--accent);
        font-weight: 500;
      }

      .publication-type {
        color: var(--muted);
        font-style: italic;
        font-size: 10pt;
      }

      /* ===================== FOOTER ===================== */
      .footer-signature {
        margin-top: 50px;
        padding-top: 25px;
        border-top: 2px solid var(--light);
        text-align: right;
      }

      .signature-line {
        width: 200px;
        height: 1px;
        background: var(--primary);
        margin: 20px auto 5px;
      }

      .signature-text {
        font-family: "Montserrat", sans-serif;
        font-weight: 600;
        color: var(--primary);
        margin-bottom: 10px;
      }

      .signature-details {
        font-size: 10pt;
        color: var(--muted);
      }

      /* ===================== IMPRESSION ===================== */
      @media print {
        body {
          font-size: 10pt;
        }

        .page-break {
          page-break-before: always;
        }

        .avoid-break {
          page-break-inside: avoid;
        }

        .section {
          break-inside: avoid;
        }

        .experience-item,
        .education-card,
        .reference-card {
          break-inside: avoid;
        }
      }

      /* ===================== UTILITAIRES ===================== */
      .mt-1 {
        margin-top: 10px;
      }
      .mt-2 {
        margin-top: 20px;
      }
      .mb-1 {
        margin-bottom: 10px;
      }
      .mb-2 {
        margin-bottom: 20px;
      }
      .text-center {
        text-align: center;
      }
      .text-muted {
        color: var(--muted);
      }
      .text-accent {
        color: var(--accent);
      }
      .font-bold {
        font-weight: 700;
      }
      .d-flex {
        display: flex;
      }
      .flex-wrap {
        flex-wrap: wrap;
      }
      .gap-1 {
        gap: 10px;
      }
      .gap-2 {
        gap: 20px;
      }
    </style>
  </head>
  <body>
    <!-- HEADER -->
    <header class="avoid-break">
      <div class="photo-container">
        {% if identite.photo_base64 %}
        <img
          src="data:image/jpeg;base64,{{ identite.photo_base64 }}"
          class="photo-img"
        />
        {% endif %}
      </div>

      <h1 class="name">
        {{ identite.prenom }} <span>{{ identite.nom }}</span>
      </h1>

      <div class="job-title">
        {{ identite.titre_profil | default('Professionnel') }}
      </div>

      <div class="contact-bar">
        {% if identite.contact.telephone_primaire %}
        <div class="contact-item">
          <span class="contact-icon">üì±</span>
          <span class="contact-value"
            >{{ identite.contact.telephone_primaire }}</span
          >
        </div>
        {% endif %} {% if identite.contact.email %}
        <div class="contact-item">
          <span class="contact-icon">‚úâÔ∏è</span>
          <span class="contact-value">{{ identite.contact.email }}</span>
        </div>
        {% endif %} {% if identite.contact.adresse_actuelle %}
        <div class="contact-item">
          <span class="contact-icon">üìç</span>
          <span class="contact-value"
            >{{ identite.contact.adresse_actuelle }}</span
          >
        </div>
        {% endif %} {% if identite.contact.linkedin %}
        <div class="contact-item">
          <span class="contact-icon">üíº</span>
          <span class="contact-value">{{ identite.contact.linkedin }}</span>
        </div>
        {% endif %}
      </div>
    </header>

    <!-- CONTENU PRINCIPAL -->
    <div class="main-container">
      <!-- SIDEBAR -->
      <div class="sidebar">
        <!-- INFORMATIONS PERSONNELLES -->
        {% if identite.date_naissance or identite.lieu_naissance or
        identite.provenance.nationalite %}
        <div class="section avoid-break">
          <div class="section-label">Infos Personnelles</div>
          <div class="personal-info">
            {% if identite.date_naissance %}
            <div class="info-item mb-1">
              <span class="text-muted">N√©(e) le:</span>
              <span class="font-bold">{{ identite.date_naissance }}</span>
            </div>
            {% endif %} {% if identite.lieu_naissance %}
            <div class="info-item mb-1">
              <span class="text-muted">Lieu:</span>
              <span>{{ identite.lieu_naissance }}</span>
            </div>
            {% endif %} {% if identite.provenance.nationalite %}
            <div class="info-item mb-1">
              <span class="text-muted">Nationalit√©:</span>
              <span>{{ identite.provenance.nationalite }}</span>
            </div>
            {% endif %} {% if identite.etat_civil %}
            <div class="info-item">
              <span class="text-muted">√âtat civil:</span>
              <span>{{ identite.etat_civil }}</span>
            </div>
            {% endif %}
          </div>
        </div>
        {% endif %}

        <!-- LANGUES -->
        {% if competences.langues %}
        <div class="section avoid-break">
          <div class="section-label">Langues</div>
          <div class="language-container">
            {% for langue in competences.langues %}
            <div class="language-item">
              <div class="language-name">{{ langue.langue }}</div>
              <div class="language-level">{{ langue.niveau }}</div>
              <div class="language-progress">
                <div
                  class="language-progress-bar"
                  style="width: 
                                {% if langue.niveau == 'D√©butant' %} 25%
                                {% elif langue.niveau == 'Interm√©diaire' %}50%
                                {% elif langue.niveau == 'Avanc√©' %}75%
                                {% elif langue.niveau == 'Courant' %}90%
                                {% elif langue.niveau == 'Bilingue' %}100%
                                {% else %}50%{% endif %}"
                ></div>
              </div>
              <div class="language-percentage">
                {% if langue.niveau == 'D√©butant' %}25% {% elif langue.niveau ==
                'Interm√©diaire' %}50% {% elif langue.niveau == 'Avanc√©' %}75% {%
                elif langue.niveau == 'Courant' %}90% {% elif langue.niveau ==
                'Bilingue' %}100% {% else %}{{ langue.niveau }}{% endif %}
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}

        <!-- CENTRES D'INT√âR√äT -->
        {% if centres_interet %}
        <div class="section avoid-break">
          <div class="section-label">Centres d'Int√©r√™t</div>
          <div class="interests-container">
            {% for interet in centres_interet %}
            <div class="interest-item">
              <div class="interest-icon">
                {% if interet in ['Sport', 'Football', 'Basket', 'Tennis'] %}‚öΩ
                {% elif interet in ['Lecture', 'Litt√©rature'] %}üìö {% elif
                interet in ['Musique', 'Chant'] %}üéµ {% elif interet in
                ['Voyage', 'Tourisme'] %}‚úàÔ∏è {% elif interet in ['Art',
                'Peinture', 'Dessin'] %}üé® {% elif interet in ['Technologie',
                'Informatique'] %}üíª {% elif interet in ['Cuisine',
                'Gastronomie'] %}üë®‚Äçüç≥ {% elif interet in ['Photographie'] %}üì∑ {%
                elif interet in ['Cin√©ma', 'Film'] %}üé¨ {% elif interet in
                ['Nature', 'Jardinage'] %}üåø {% else %}üåü{% endif %}
              </div>
              <div class="interest-name">{{ interet }}</div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}

        <!-- QUALIT√âS HUMAINES -->
        {% if qualites_humaines %}
        <div class="section avoid-break">
          <div class="section-label">Qualit√©s</div>
          <div class="skill-tags">
            {% for qualite in qualites_humaines %}
            <span class="skill-tag">{{ qualite }}</span>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>

      <!-- CONTENU PRINCIPAL -->
      <div class="content">
        <!-- PROFIL -->
        {% if accroche %}
        <div class="section avoid-break">
          <div class="section-label">Profil Professionnel</div>
          <div class="profile-text">{{ accroche }}</div>
        </div>
        {% endif %}

        <!-- EXP√âRIENCES PROFESSIONNELLES -->
        {% if experiences_pro %}
        <div class="section avoid-break">
          <div class="section-label">Exp√©riences Professionnelles</div>
          <div class="experience-timeline">
            {% for exp in experiences_pro %}
            <div class="experience-item">
              <div class="exp-header">
                <div class="exp-title">{{ exp.poste }}</div>
                <div class="exp-period">{{ exp.periode }}</div>
              </div>
              <div class="exp-company">{{ exp.entreprise }}</div>
              {% if exp.ville %}
              <div class="exp-location">üìç {{ exp.ville }}</div>
              {% endif %} {% if exp.missions %}
              <ul class="exp-missions">
                {% for mission in exp.missions %}
                <li class="mission-item">{{ mission }}</li>
                {% endfor %}
              </ul>
              {% endif %}
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}

        <!-- FORMATION ACAD√âMIQUE -->
        {% if etudes %}
        <div class="section avoid-break">
          <div class="section-label">Formation Acad√©mique</div>
          <div class="education-grid">
            {% for etude in etudes %}
            <div class="education-card">
              <div class="edu-header">
                <div class="edu-diploma">{{ etude.diplome }}</div>
                <div class="edu-year">{{ etude.annee }}</div>
              </div>
              <div class="edu-institution">{{ etude.institution }}</div>
              <div class="edu-details">
                <span class="edu-city">{{ etude.ville }}</span>
                {% if etude.mention %}
                <span class="edu-mention">{{ etude.mention }}</span>
                {% endif %}
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}

        <!-- COMP√âTENCES -->
        {% if competences.techniques or competences.informatiques %}
        <div class="section avoid-break">
          <div class="section-label">Comp√©tences</div>
          <div class="skills-categories">
            {% if competences.techniques %}
            <div class="skill-category">
              <div class="skill-category-title">Techniques & M√©tier</div>
              <div class="skill-tags">
                {% for skill in competences.techniques %}
                <span class="skill-tag level-advanced">{{ skill }}</span>
                {% endfor %}
              </div>
            </div>
            {% endif %} {% if competences.informatiques %}
            <div class="skill-category">
              <div class="skill-category-title">Informatiques</div>
              <div class="skill-tags">
                {% for skill in competences.informatiques %}
                <span class="skill-tag level-expert">{{ skill }}</span>
                {% endfor %}
              </div>
            </div>
            {% endif %}
          </div>
        </div>
        {% endif %}

        <!-- FORMATIONS & CERTIFICATIONS -->
        {% if formations_certifications %}
        <div class="section avoid-break">
          <div class="section-label">Formations & Certifications</div>
          <ul class="certifications-list">
            {% for formation in formations_certifications %}
            <li class="certification-item">
              <div class="certification-header">
                <div class="certification-title">{{ formation.titre }}</div>
                <div class="certification-date">{{ formation.annee }}</div>
              </div>
              <div class="certification-org">{{ formation.organisme }}</div>
            </li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}

        <!-- PUBLICATIONS & TRAVAUX -->
        {% if publications_travaux %}
        <div class="section avoid-break">
          <div class="section-label">Publications & Travaux</div>
          <ul class="publications-list">
            {% for publication in publications_travaux %}
            <li class="publication-item">
              <div class="publication-header">
                <div class="publication-title">{{ publication.titre }}</div>
                <div class="publication-year">{{ publication.annee }}</div>
              </div>
              <div class="publication-type">{{ publication.type }}</div>
            </li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}

        <!-- R√âF√âRENCES -->
        {% if personnes_reference %}
        <div class="section avoid-break">
          <div class="section-label">Personnes de R√©f√©rence</div>
          <div class="references-grid">
            {% for reference in personnes_reference %}
            <div class="reference-card">
              <div class="ref-name">{{ reference.nom }}</div>
              <div class="ref-function">{{ reference.fonction }}</div>
              <div class="ref-contact">
                {% if reference.telephone %}
                <div class="ref-phone">
                  <span>üìû</span>
                  <span>{{ reference.telephone }}</span>
                </div>
                {% endif %} {% if reference.email %}
                <div class="ref-email">
                  <span>‚úâÔ∏è</span>
                  <span>{{ reference.email }}</span>
                </div>
                {% endif %}
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>

    <!-- SIGNATURE -->
    {% if signature.lieu or signature.date %}
    <div class="footer-signature avoid-break">
      <div class="signature-text">Certifi√© sinc√®re et v√©ritable</div>
      {% if signature.lieu %}
      <div class="signature-details">Fait √† {{ signature.lieu }}</div>
      {% endif %} {% if signature.date %}
      <div class="signature-details">Le {{ signature.date }}</div>
      {% endif %}
      <div class="signature-line"></div>
      <div class="signature-text">{{ identite.prenom }} {{ identite.nom }}</div>
    </div>
    {% endif %}
  </body>
</html>
